| VTチュートリアル ロボット接続編(ELITE) | Revision      | 第1版 |
| -------------------------------------- | ------------- | ----- |
| 作成者                                 | 株式会社YOODS |       |
| 作成日                                 | 2024年3月18日 |       |
| 最終更新日                             | 2024年3月18日 |       |

# 7.TPでのIPアドレス設定 (ELITE)

| No   | 手順                                                                                                                                                                                                                                                                    | 補足                                                                                       |
| ---- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------ |
| A140 | 画面右上のメニューバーから<br />![1724300563880](tutorial_ELITE/(image/tutorial_ELITE/1724300563880.png)を押してください。                                                                            | PCと通信するために<br />ロボットIPアドレスを設定します。                                   |
| A141 | 「設定」―「インターネット」 を押してください。                                                                                                                                                                                                                         | 以下のメニューが表示されます。<br />![1724283299124](image/turorial_ELITE/1724283299124.png) |
| A142 | ※eliteServerとの通信ネットワークであるFB2<br />ネットワークを設定します<br /> 1. 「スタティックアドレス」にELITEコントローラの<br />　　IPアドレスを設定 <br />　　例)192.168.4.1 <br />2.サブネットマスクを設定 <br />　通常は255.255.255.0 <br />3. 適用を押す<br /> |                                                                                            |
| A143 | 終了を押してください。<br />                                                                                                                                                                                                                                            |                                                                                            |

# 8.プログラムのロード ( ELITE )

| No   | 手順                                                                                                                                                                                                                                                                       | 補足                                                                                                                                                                                                                                                                                                                            |
| ---- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| A150 | PC画面左下のメニューから<br />「ファイルマネージャー」![1724283722812](image/turorial_ELITE/1724283722812.png)を選択して <br />クリックしてください。 <br /><br />  下記フォルダを選択して順々に開いてください。 <br />catkin_ws→src→rovi_industrial→<br />programs_ELITE | ロボットへ必要なプログラムファイルを移行します。                                                                                                                                                                                                                                                                                |
| A151 | PCへUSBメモリを挿してください。<br /><br />  programs_ELITEフォルダ内のファイルを <br />全てUSBへコピーしてください。 <br /><br />  コピー完了後、USBを抜いてください。                                                                                                    | USBメモリフォルダは自動で出てきますが<br />出ない場合、ファイルマネージャーを開いて <br />デバイス内のUSBフォルダを開いてください。 <br /><br />  USBを抜く際は、ファイルマネージャー左側メニュー <br />   デバイス内にあるUSBの <br />![1724284023603](image/turorial_ELITE/1724284023603.png)マークを押してから抜いてください。 |
| A152 | TPへUSBメモリを挿してください。<br /><br />  USB内のファイルを全てTPへコピーしてください。 <br />コピー完了後、USBメモリを抜いてください。<br /><br />                                                                                                                     | TPのUSB差し込み口は <br />ロボットメーカー取扱い説明書を参照してください。<br /><br />                                                                                                                                                                                                                                          |

# 9.変数設定 ( ELITE )

| No             | 手順                                                                                              | 補足                                                                                                                           |
| -------------- | ------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------ |
| A160           | 「開ける」―「タスク」で、TPへコピーしたプログラム<br />から「VT_MAIN」を選択して開いてください。 | プログラム 「VT_MAIN」 を開くと、 紐づいている環境 「default」 内（あるいはVT<br />_MAINという環境）の変数設定が反映されます。 |
| A161           | 「構成」―「変数」を開いてください。                                                              | プログラムを開いた後に、<br />設定が正しく反映されているかを確認します。                                                       |
| A162           | 下記、表通りに設定されているか<br />確認してください。                                            | TPメニューの 「説明」 欄は空白で大丈夫です。<br />設定が反映されていなければ <br />「名前」、「値」 を入力してください。       |
| 名前           | 値                                                                                                | 備考                                                                                                                           |
| host           | "192.168.4.2"※例                                                                                 | YCAM3DコントローラPCのIPアドレス<br />※通常はA142で設定したアドレスと同じセグメント                                           |
| is_popup       | True                                                                                              | ポップアップメッセージ(True=する)                                                                                              |
| port           | 3000                                                                                              | PCのポート番号                                                                                                                 |
| rovi_err       | 0                                                                                                 | 処理結果(0=OK, 0以外=NG)                                                                                                       |
| socket_name    | "vt"                                                                                              | ROVI命令で通信するときのソケット名                                                                                             |
| socket_timeout | 5                                                                                                 | PCと通信するときのタイムアウト時間                                                                                             |
| Y1             | [0.0, 0.0, 0.0, 0.0]                                                                              | 撮影処理結果を格納                                                                                                             |
| Y2             | [0.0, 0.0, 0.0, 0.0, 0.0, 0.0]                                                                    | 解析処理結果を格納 <br />この値を平面フィーチャーに代入                                                                        |
| Ret            | True                                                                                              |                                                                                                                                |

# 10.座標系設定 (ELITE)

| No   | 手順                                                                                                                                                                                       | 補足                                                                                       |
| ---- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------ |
| A170 | 解析処理結果を基に<br />補正値を代入するユーザー座標を設定します。                                                                                                                         |                                                                                            |
| A171 | TPから「構成」→「座標系」を<br />選択してください。 <br /><br />  「ツール」 の「＋」を選択すると「座標系」が追加<br />されます。編集を押し、名前を「座標系」→<br />「UF」に変更します。 | 以下のメニューが表示されます。<br />![1724284391569](image/turorial_ELITE/1724284391569.png) |
| A172 | ベース座標を選択し、数値は全て「0」のまま<br />OKを押して登録してください。                                                                                                                | 以下のメニューが表示されます。<br />![1724284415431](image/turorial_ELITE/1724284415431.png) |
| A173 | 登録した設定を選択し、<br /> 編集を押し、名前を「座標系」→「UF」に変更します。                                                                                                            | 名前を間違えると補正動作が出来ないので <br />注意してください。                            |

# 11.動作確認

| No   | 手順                                                                                                                                                 | 補足                                                                               |
| ---- | ---------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------- |
| A180 | デスクトップのVT起動アイコンをダブルクリックして、<br />ビジュアルコントローラを起動します。 <br />※起動済みの場合は、念のため再起動                | <br />![1724284621520](image/turorial_ELITE/1724284621520.png)<br />VT起動アイコン   |
| A181 | ご使用のロボットが画面に表示されることを<br />確認します。<br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /> | ![1724284667567](image/turorial_ELITE/1724284667567.png)                             |
| A182 | TPでロボットを動かし、画面上のロボットと <br />実際のロボットの動きが連動していることを <br />確認してください。<br />                               | 各軸座標系で6軸それぞれを動かし <br />連動しているか確認してください。<br /><br /> |
| A183 | これで接続は全て完了です。                                                                                                                           |                                                                                    |
