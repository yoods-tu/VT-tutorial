| VTチュートリアル ロボット接続編(UR) | Revision      | 第1版 |
| ----------------------------------- | ------------- | ----- |
| 作成者                              | 株式会社YOODS |       |
| 作成日                              | 2023年5月25日 |       |
| 最終更新日                          | 2023年5月25日 |       |

# 7.TPでのIPアドレス設定 (UR)

| No   | 手順                                                                                                                                                   | 補足                                                                                    |
| ---- | ------------------------------------------------------------------------------------------------------------------------------------------------------ | --------------------------------------------------------------------------------------- |
| A140 | 画面右上のメニューバーから<br />![1724287497403](image/tutorial_UR/1724287497403.png)                     を押してください。                             | PCと通信するために<br />ロボットIPアドレスを設定します。                                |
| A141 | 「ロボットの設定」 を押してください。<br /><br />  「システム」→「ネットワーク」の順に <br />選択してください。                                       | 以下のメニューが表示されます。<br />![1724287564355](image/tutorial_UR/1724287564355.png) |
| A142 | 1. 固定アドレスを選択<br />2. ロボットIPアドレスを設定 <br />例)192.168.221.10 <br />3. サブネットマスクを設定 <br />255.255.255.0 <br />4. 適用を押す |                                                                                         |
| A143 | 終了を押してください。<br />                                                                                                                           |                                                                                         |

# 8.プログラムのロード ( UR )

| No   | 手順                                                                                                                                                                                          | 補足                                                                                                                                                                                                                                                                                                                                    |
| ---- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| A150 | PCデスクトップ「VTマニュアル」のリンクを選択して<br />ダブルクリックしてください。<br /><br />   使用するロボットメーカーのフォルダを開き <br />「Robot_program」のフォルダを開いてください。 | ロボットへ必要なプログラムファイルを移行します。                                                                                                                                                                                                                                                                                        |
| A151 | PCへUSBメモリを挿してください。<br /><br />  選択したフォルダ内のファイルを <br />全てUSBへコピーしてください。 <br /><br />  コピー完了後、USBを抜いてください。                             | USBメモリフォルダは自動で出てきますが<br />出ない場合、ファイルマネージャーを開いて <br />デバイス内のUSBフォルダを開いてください。<br /><br />  USBを抜く際は、ファイルマネージャー左側メニュー <br />   デバイス内にあるUSBの <br />![1724287716020](image/tutorial_UR/1724287716020.png)マークを押してから抜いてください。<br /><br /> |
| A152 | TPへUSBメモリを挿してください。<br /><br />  USB内のファイルを全てTPへコピーしてください。 <br />コピー完了後、USBメモリを抜いてください。<br /><br />                                        | TPのUSB差し込み口は<br />ロボットメーカー取扱い説明書を参照してください。                                                                                                                                                                                                                                                               |

# 9.変数設定 ( UR )

| No             | 手順                                                                           | 補足                                                                                                                      |
| -------------- | ------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------- |
| A160           | TPへコピーしたプログラムから <br />「VT_MAIN」を選択して開いてください。<br /> | プログラム 「VT_MAIN」 を開くと、 <br />紐づいているプログラム 「default」 内の <br />変数設定が反映されます。<br />      |
| A161           | 設置設定を選択し、 <br />「全般」→「変数」を開いてください。                  | プログラムを開いた後に、 <br />設定が正しく反映されているかを確認します。                                                 |
| A162           | 下記、表通りに設定されているか <br />確認してください。                        | TPメニューの 「説明」 欄は空白で大丈夫です。 <br />設定が反映されていなければ <br />「名前」、「値」 を入力してください。 |
| 名前           | 値                                                                             | 備考                                                                                                                      |
| host           | "192.168.221.2"                                                                | PCのIPアドレス<br />**※A114で設定したIPアドレス**                                                                  |
| port           | 3000                                                                           | PCのポート番号                                                                                                            |
| socket_name    | "vt"                                                                           | ROVI命令で通信するときのソケット名                                                                                        |
| socket_timeout | 5                                                                              | PCと通信するときのタイムアウト時間                                                                                        |
| rovi_err       | 0                                                                              | 処理結果(0=OK, 0以外=NG)                                                                                                  |
| is_popup       | True                                                                           | ポップアップメッセージ(True=する)                                                                                         |
| Y1             | [0.0, 0.0, 0.0, 0.0]                                                           | 撮影処理結果を格納                                                                                                        |
| Y2             | p[0.0, 0.0, 0.0, 0.0, 0.0, 0.0]                                                | 解析処理結果を格納 <br />この値を平面フィーチャーに代入                                                                   |

# 10.フィーチャー設定 (UR)

| No   | 手順                                                                                                                                                                                             | 補足                                                                                    |
| ---- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | --------------------------------------------------------------------------------------- |
| A170 | 解析処理結果を基に<br />補正値を代入するユーザー座標を設定します。                                                                                                                               |                                                                                         |
| A171 | TPから「設置設定」→「フィーチャー」を<br />選択してください。 <br /><br />  「平面」 を選択するとフィーチャーに <br />平面が追加されます。 <br />追加された平面を選択し、編集を押してください。 | 以下のメニューが表示されます。<br />![1724287919860](image/tutorial_UR/1724287919860.png) |
| A172 | ベース座標を選択し、数値は全て「0」のまま<br />OKを押して登録してください。                                                                                                                      | 以下のメニューが表示されます。<br />![1724287937418](image/tutorial_UR/1724287937418.png) |
| A173 | 登録した設定を選択し、 <br />名前を「UF」に変更してください。<br />                                                                                                                              | 名前を間違えると補正動作が出来ないので <br />注意してください。                         |

# 11.

動作確認

| No   | 手順                                                                                                                                  | 補足                                                                                                                                                                                                              |
| ---- | ------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| A180 | デスクトップのVT起動アイコンをダブルクリックして、<br />ビジュアルコントローラを起動します。 <br />※起動済みの場合は、念のため再起動 |                 ![1724288009400](image/tutorial_UR/1724288009400.png) <br />                 VT起動アイコン |
| A181 | ご使用のロボットが画面に表示されることを<br />確認します。                                                                            | ![1724287998903](image/tutorial_UR/1724287998903.png)                                                                                                                                                               |
| A182 | TPでロボットを動かし、画面上のロボットと<br />実際のロボットの動きが連動していることを <br />確認してください。                       | 各軸座標系で6軸それぞれを動かし<br />連動しているか確認してください。                                                                                                                                             |
| A183 | これで接続は全て完了です。<br />                                                                                                      | <br />                                                                                                                                                                                                            |

**改定履歴**

| #    | 日付            | 内容 |
| ---- | --------------- | ---- |
| 初版 | 2023年 5月 25日 |      |
